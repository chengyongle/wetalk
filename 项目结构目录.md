
```
wetalk
├─ .idea
│  ├─ modules.xml
│  ├─ vcs.xml
│  ├─ wetalk.iml
│  └─ workspace.xml
├─ apps
│  ├─ im
│  │  ├─ api
│  │  │  ├─ etc
│  │  │  │  └─ im.yaml
│  │  │  ├─ im.api
│  │  │  ├─ im.go
│  │  │  └─ internal
│  │  │     ├─ config
│  │  │     │  └─ config.go
│  │  │     ├─ handler
│  │  │     │  ├─ getchatloghandler.go
│  │  │     │  ├─ getchatlogreadrecordshandler.go
│  │  │     │  ├─ getconversationshandler.go
│  │  │     │  ├─ putconversationshandler.go
│  │  │     │  ├─ routes.go
│  │  │     │  └─ setupuserconversationhandler.go
│  │  │     ├─ logic
│  │  │     │  ├─ getchatloglogic.go
│  │  │     │  ├─ getchatlogreadrecordslogic.go
│  │  │     │  ├─ getconversationslogic.go
│  │  │     │  ├─ putconversationslogic.go
│  │  │     │  └─ setupuserconversationlogic.go
│  │  │     ├─ svc
│  │  │     │  └─ servicecontext.go
│  │  │     └─ types
│  │  │        └─ types.go
│  │  ├─ immodels
│  │  │  ├─ chatlogmodel.go
│  │  │  ├─ chatlogmodelgen.go
│  │  │  ├─ chatlogtypes.go
│  │  │  ├─ conversationmodel.go
│  │  │  ├─ conversationmodelgen.go
│  │  │  ├─ conversationsmodel.go
│  │  │  ├─ conversationsmodelgen.go
│  │  │  ├─ conversationstypes.go
│  │  │  ├─ conversationtypes.go
│  │  │  └─ error.go
│  │  ├─ rpc
│  │  │  ├─ etc
│  │  │  │  └─ im.yaml
│  │  │  ├─ im
│  │  │  │  ├─ im.pb.go
│  │  │  │  └─ im_grpc.pb.go
│  │  │  ├─ im.go
│  │  │  ├─ im.proto
│  │  │  ├─ imclient
│  │  │  │  └─ im.go
│  │  │  └─ internal
│  │  │     ├─ config
│  │  │     │  └─ config.go
│  │  │     ├─ logic
│  │  │     │  ├─ creategroupconversationlogic.go
│  │  │     │  ├─ getchatloglogic.go
│  │  │     │  ├─ getconversationslogic.go
│  │  │     │  ├─ putconversationslogic.go
│  │  │     │  └─ setupuserconversationlogic.go
│  │  │     ├─ server
│  │  │     │  └─ imserver.go
│  │  │     └─ svc
│  │  │        └─ servicecontext.go
│  │  └─ ws
│  │     ├─ etc
│  │     │  └─ im.yaml
│  │     ├─ im.go
│  │     ├─ internal
│  │     │  ├─ config
│  │     │  │  └─ config.go
│  │     │  ├─ handler
│  │     │  │  ├─ auth.go
│  │     │  │  ├─ conversation
│  │     │  │  │  └─ conversation.go
│  │     │  │  ├─ push
│  │     │  │  │  └─ push.go
│  │     │  │  ├─ route.go
│  │     │  │  └─ user
│  │     │  │     └─ user.go
│  │     │  ├─ logic
│  │     │  │  └─ conversation.go
│  │     │  ├─ server
│  │     │  ├─ svc
│  │     │  │  └─ servicecontext.go
│  │     │  └─ types
│  │     ├─ websocket
│  │     │  ├─ authentication.go
│  │     │  ├─ client.go
│  │     │  ├─ connection.go
│  │     │  ├─ default.go
│  │     │  ├─ dialoption.go
│  │     │  ├─ message.go
│  │     │  ├─ route.go
│  │     │  ├─ server.go
│  │     │  └─ serverOptions.go
│  │     └─ ws
│  │        └─ ws.go
│  ├─ social
│  │  ├─ api
│  │  │  ├─ etc
│  │  │  │  └─ social.yaml
│  │  │  ├─ internal
│  │  │  │  ├─ config
│  │  │  │  │  └─ config.go
│  │  │  │  ├─ handler
│  │  │  │  │  ├─ friend
│  │  │  │  │  │  ├─ frienddeletehandler.go
│  │  │  │  │  │  ├─ friendlisthandler.go
│  │  │  │  │  │  ├─ friendputinhandlehandler.go
│  │  │  │  │  │  ├─ friendputinhandler.go
│  │  │  │  │  │  ├─ friendputinlisthandler.go
│  │  │  │  │  │  └─ friendsonlinehandler.go
│  │  │  │  │  ├─ group
│  │  │  │  │  │  ├─ creategrouphandler.go
│  │  │  │  │  │  ├─ groupexithandler.go
│  │  │  │  │  │  ├─ grouplisthandler.go
│  │  │  │  │  │  ├─ groupputinhandlehandler.go
│  │  │  │  │  │  ├─ groupputinhandler.go
│  │  │  │  │  │  ├─ groupputinlisthandler.go
│  │  │  │  │  │  ├─ groupuseronlinehandler.go
│  │  │  │  │  │  └─ groupusershandler.go
│  │  │  │  │  └─ routes.go
│  │  │  │  ├─ logic
│  │  │  │  │  ├─ friend
│  │  │  │  │  │  ├─ frienddeletelogic.go
│  │  │  │  │  │  ├─ friendlistlogic.go
│  │  │  │  │  │  ├─ friendputinhandlelogic.go
│  │  │  │  │  │  ├─ friendputinlistlogic.go
│  │  │  │  │  │  ├─ friendputinlogic.go
│  │  │  │  │  │  └─ friendsonlinelogic.go
│  │  │  │  │  └─ group
│  │  │  │  │     ├─ creategrouplogic.go
│  │  │  │  │     ├─ groupexitlogic.go
│  │  │  │  │     ├─ grouplistlogic.go
│  │  │  │  │     ├─ groupputinhandlelogic.go
│  │  │  │  │     ├─ groupputinlistlogic.go
│  │  │  │  │     ├─ groupputinlogic.go
│  │  │  │  │     ├─ groupuseronlinelogic.go
│  │  │  │  │     └─ groupuserslogic.go
│  │  │  │  ├─ middleware
│  │  │  │  │  ├─ idempotencemiddleware.go
│  │  │  │  │  └─ limitmiddleware.go
│  │  │  │  ├─ svc
│  │  │  │  │  └─ servicecontext.go
│  │  │  │  └─ types
│  │  │  │     └─ types.go
│  │  │  ├─ social.api
│  │  │  └─ social.go
│  │  ├─ exec.sh
│  │  ├─ rpc
│  │  │  ├─ etc
│  │  │  │  └─ social.yaml
│  │  │  ├─ internal
│  │  │  │  ├─ code
│  │  │  │  │  └─ code.go
│  │  │  │  ├─ config
│  │  │  │  │  └─ config.go
│  │  │  │  ├─ logic
│  │  │  │  │  ├─ frienddeletelogic.go
│  │  │  │  │  ├─ friendlistlogic.go
│  │  │  │  │  ├─ friendputinhandlelogic.go
│  │  │  │  │  ├─ friendputinlistlogic.go
│  │  │  │  │  ├─ friendputinlogic.go
│  │  │  │  │  ├─ groupcreatelogic.go
│  │  │  │  │  ├─ groupexitlogic.go
│  │  │  │  │  ├─ grouplistlogic.go
│  │  │  │  │  ├─ groupputinhandlelogic.go
│  │  │  │  │  ├─ groupputinlistlogic.go
│  │  │  │  │  ├─ groupputinlogic.go
│  │  │  │  │  └─ groupuserslogic.go
│  │  │  │  ├─ server
│  │  │  │  │  └─ socialserver.go
│  │  │  │  └─ svc
│  │  │  │     └─ servicecontext.go
│  │  │  ├─ social
│  │  │  │  ├─ social.pb.go
│  │  │  │  └─ social_grpc.pb.go
│  │  │  ├─ social.go
│  │  │  ├─ social.proto
│  │  │  └─ socialclient
│  │  │     └─ social.go
│  │  └─ socialmodels
│  │     ├─ friendrequestsmodel.go
│  │     ├─ friendrequestsmodel_gen.go
│  │     ├─ friendsmodel.go
│  │     ├─ friendsmodel_gen.go
│  │     ├─ groupmembersmodel.go
│  │     ├─ groupmembersmodel_gen.go
│  │     ├─ grouprequestsmodel.go
│  │     ├─ grouprequestsmodel_gen.go
│  │     ├─ groupsmodel.go
│  │     ├─ groupsmodel_gen.go
│  │     └─ vars.go
│  ├─ task
│  │  └─ mq
│  │     ├─ etc
│  │     │  └─ task.yaml
│  │     ├─ internal
│  │     │  ├─ config
│  │     │  │  └─ config.go
│  │     │  ├─ handler
│  │     │  │  ├─ listen.go
│  │     │  │  └─ msgTransfer
│  │     │  │     ├─ groupMsgRead.go
│  │     │  │     ├─ msgChatTransfer.go
│  │     │  │     ├─ msgReadTransfer.go
│  │     │  │     └─ msgTransfer.go
│  │     │  └─ svc
│  │     │     └─ servicecontext.go
│  │     ├─ mq
│  │     │  └─ mq.go
│  │     ├─ mqclient
│  │     │  └─ msgtransfer.go
│  │     └─ task.go
│  └─ user
│     ├─ api
│     │  ├─ etc
│     │  │  └─ user.yaml
│     │  ├─ internal
│     │  │  ├─ config
│     │  │  │  └─ config.go
│     │  │  ├─ handler
│     │  │  │  ├─ finduserhandler.go
│     │  │  │  ├─ getuserinfohandler.go
│     │  │  │  ├─ loginhandler.go
│     │  │  │  ├─ pinghandler.go
│     │  │  │  ├─ registerhandler.go
│     │  │  │  └─ routes.go
│     │  │  ├─ logic
│     │  │  │  ├─ finduserlogic.go
│     │  │  │  ├─ getuserinfologic.go
│     │  │  │  ├─ loginlogic.go
│     │  │  │  ├─ pinglogic.go
│     │  │  │  └─ registerlogic.go
│     │  │  ├─ svc
│     │  │  │  └─ servicecontext.go
│     │  │  └─ types
│     │  │     └─ types.go
│     │  ├─ user.api
│     │  └─ user.go
│     ├─ exec.sh
│     ├─ models
│     │  ├─ usersmodel.go
│     │  ├─ usersmodel_gen.go
│     │  └─ vars.go
│     └─ rpc
│        ├─ etc
│        │  └─ user.yaml
│        ├─ internal
│        │  ├─ code
│        │  │  └─ code.go
│        │  ├─ config
│        │  │  └─ config.go
│        │  ├─ logic
│        │  │  ├─ finduserlogic.go
│        │  │  ├─ getuserinfologic.go
│        │  │  ├─ loginlogic.go
│        │  │  ├─ pinglogic.go
│        │  │  └─ registerlogic.go
│        │  ├─ server
│        │  │  └─ userserver.go
│        │  └─ svc
│        │     └─ servicecontext.go
│        ├─ user
│        │  ├─ user.pb.go
│        │  └─ user_grpc.pb.go
│        ├─ user.go
│        ├─ user.proto
│        └─ userclient
│           └─ user.go
├─ deploy
│  ├─ dockerfile
│  │  └─ Dockerfile_user_rpc
│  ├─ mk
│  │  └─ user-rpc.mk
│  └─ sql
│     ├─ social.sql
│     └─ user.sql
├─ docker-compose.yml
├─ go.mod
├─ go.sum
├─ Makefile
└─ pkg
   ├─ bitmap
   │  ├─ bitmap.go
   │  └─ bitmap_test.go
   ├─ constants
   │  ├─ im.go
   │  ├─ redis.go
   │  ├─ social.go
   │  └─ user.go
   ├─ ctxdata
   │  ├─ data.go
   │  └─ token.go
   ├─ encrypt
   │  └─ hash.go
   ├─ interceptor
   │  ├─ idempotence.go
   │  └─ rpcserver
   │     ├─ LogInterceptor.go
   │     └─ syncxlimitinterceptor.go
   ├─ job
   │  ├─ default.go
   │  ├─ option.go
   │  ├─ retry.go
   │  └─ retry_test.go
   ├─ middleware
   │  ├─ idempotenceMiddleware.go
   │  └─ limitmiddleware.go
   ├─ resultx
   │  └─ httpResponse.go
   ├─ wuid
   │  └─ wuid.go
   ├─ xcode
   │  ├─ common.xcode.go
   │  ├─ response.go
   │  ├─ status.go
   │  ├─ types
   │  │  ├─ status.pb.go
   │  │  └─ status.proto
   │  └─ xcode.go
   └─ xerr
      ├─ errors.go
      ├─ err_code.go
      └─ err_msg.go

```